var background=(function(){"use strict";function s(e){return e==null||typeof e=="function"?{main:e}:e}const i=s(()=>{console.log("Auths background script started"),chrome.runtime.onInstalled.addListener(e=>{e.reason==="install"?console.log("Extension installed"):e.reason==="update"&&console.log("Extension updated")}),chrome.commands.onCommand.addListener(e=>{e==="scan-qr"?console.log("Scan QR command triggered"):e==="autofill"&&console.log("Autofill command triggered")}),chrome.runtime.onMessage.addListener((e,a,t)=>{if(e.action==="captureVisibleTab")return chrome.tabs.captureVisibleTab(void 0,{format:"png"}).then(r=>{t({dataUrl:r})}).catch(r=>{t({error:r.message})}),!0})});function l(){}globalThis.browser?.runtime?.id?globalThis.browser:globalThis.chrome;function o(e,...a){}const c={debug:(...e)=>o(console.debug,...e),log:(...e)=>o(console.log,...e),warn:(...e)=>o(console.warn,...e),error:(...e)=>o(console.error,...e)};let n;try{n=i.main(),n instanceof Promise&&console.warn("The background's main() function return a promise, but it must be synchronous")}catch(e){throw c.error("The background crashed on startup!"),e}return n})();
