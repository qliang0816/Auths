import{j as e,c as C,d as E,r as p,B as S,R as B,b as D,S as T}from"./ButtonInput-Dxec3zeE.js";function s({checked:n=!1,onChange:l,disabled:o=!1,className:a="",id:r,label:i}){const c=d=>{l&&l(d.target.checked)};return e.jsxs("div",{className:`toggle-input ${a}`,children:[i&&e.jsx("label",{htmlFor:r,children:i}),e.jsx("input",{type:"checkbox",id:r,checked:n,onChange:c,disabled:o,className:"toggle-checkbox"}),e.jsx("span",{className:"toggle-slider"})]})}function M(){const{menu:n,dispatch:l}=C(),{backup:o,dispatch:a}=E(),[r,i]=p.useState(!1),[c,d]=p.useState(!1),x=t=>{l({type:"setZoom",payload:t}),t!==100?(document.body.style.marginBottom=480*(t/100-1)+"px",document.body.style.marginRight=320*(t/100-1)+"px",document.body.style.transform="scale("+t/100+")"):(document.body.style.marginBottom="",document.body.style.marginRight="",document.body.style.transform="")},m=t=>{l({type:"setAutofill",payload:t})},y=t=>{l({type:"setSmartFilter",payload:t})},g=t=>{l({type:"setEnableContextMenu",payload:t})},u=t=>{l({type:"setTheme",payload:t})},j=t=>{l({type:"setAutolock",payload:t})},v=t=>{a({type:"setEnc",payload:{service:"dropbox",value:t}})},b=t=>{a({type:"setEnc",payload:{service:"drive",value:t}})},f=t=>{a({type:"setEnc",payload:{service:"onedrive",value:t}})},k=async()=>{try{await chrome.storage.sync.clear(),await chrome.storage.local.clear(),localStorage.clear(),chrome.runtime.sendMessage({action:"lock"}),i(!1),d(!0)}catch(t){console.error("Failed to delete everything:",t)}};return e.jsxs("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[e.jsx("h1",{children:"Auths 选项"}),e.jsxs("section",{style:{marginTop:"30px"},children:[e.jsx("h2",{children:"常规设置"}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsxs("label",{children:["缩放: ",n.zoom,"%",e.jsx("input",{type:"range",min:"50",max:"150",step:"10",value:n.zoom,onChange:t=>x(Number(t.target.value)),style:{marginLeft:"10px"}})]})}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsx(s,{id:"autofill",label:"启用自动填充",checked:n.useAutofill,onChange:m})}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsx(s,{id:"smartFilter",label:"智能过滤",checked:n.smartFilter,onChange:y})}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsx(s,{id:"contextMenu",label:"启用上下文菜单",checked:n.enableContextMenu,onChange:g})}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsxs("label",{children:["主题:",e.jsxs("select",{value:n.theme,onChange:t=>u(t.target.value),style:{marginLeft:"10px"},children:[e.jsx("option",{value:"normal",children:"普通"}),e.jsx("option",{value:"dark",children:"深色"}),e.jsx("option",{value:"simple",children:"简单"}),e.jsx("option",{value:"compact",children:"紧凑"}),e.jsx("option",{value:"flat",children:"扁平"}),e.jsx("option",{value:"accessibility",children:"无障碍"})]})]})}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsxs("label",{children:["自动锁定 (秒):",e.jsx("input",{type:"number",min:"0",max:"300",value:n.autolock,onChange:t=>j(Number(t.target.value)),style:{marginLeft:"10px"}})]})})]}),e.jsxs("section",{style:{marginTop:"30px"},children:[e.jsx("h2",{children:"备份设置"}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsx(s,{id:"dropboxEncrypted",label:"Dropbox 加密",checked:o.dropboxEncrypted,onChange:v,disabled:!o.dropboxToken})}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsx(s,{id:"driveEncrypted",label:"Google Drive 加密",checked:o.driveEncrypted,onChange:b,disabled:!o.driveToken})}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsx(s,{id:"oneDriveEncrypted",label:"OneDrive 加密",checked:o.oneDriveEncrypted,onChange:f,disabled:!o.oneDriveToken})})]}),e.jsxs("section",{style:{marginTop:"30px"},children:[e.jsx("h2",{children:"危险操作"}),e.jsx("p",{children:"删除所有数据将永久删除您的所有账户、设置和备份。此操作无法撤销。"}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsx(s,{id:"deleteConfirm",label:"我确认要删除所有数据",checked:r,onChange:i})}),e.jsx("div",{style:{marginTop:"15px"},children:e.jsx(S,{onClick:k,disabled:!r,className:"danger",children:"删除所有数据"})}),c&&e.jsx("p",{style:{color:"green",marginTop:"10px"},children:"所有数据已成功删除！"})]})]})}const h=document.getElementById("root");h&&B.createRoot(h).render(e.jsx(D.StrictMode,{children:e.jsx(T,{children:e.jsx(M,{})})}));
