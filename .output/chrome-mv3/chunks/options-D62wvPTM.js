import{j as e,c as N,d as O,r as m,B as I,R as L,b as z,S as G}from"./ButtonInput-BzPmwIqa.js";function l({checked:o=!1,onChange:s,disabled:i=!1,className:c="",id:a,label:r}){const n=d=>{s&&s(d.target.checked)};return e.jsxs("div",{className:`toggle-input ${c}`,children:[r&&e.jsx("label",{htmlFor:a,children:r}),e.jsx("input",{type:"checkbox",id:a,checked:o,onChange:n,disabled:i,className:"toggle-checkbox"}),e.jsx("span",{className:"toggle-slider"})]})}function P(){const{zoom:o,useAutofill:s,smartFilter:i,enableContextMenu:c,theme:a,autolock:r,dispatch:n}=N(),{dropboxEncrypted:d,driveEncrypted:g,oneDriveEncrypted:u,dropboxToken:j,driveToken:v,oneDriveToken:b,dispatch:p}=O(),[h,x]=m.useState(!1),[f,k]=m.useState(!1),C=t=>{n({type:"setZoom",payload:t}),t!==100?(document.body.style.marginBottom=480*(t/100-1)+"px",document.body.style.marginRight=320*(t/100-1)+"px",document.body.style.transform="scale("+t/100+")"):(document.body.style.marginBottom="",document.body.style.marginRight="",document.body.style.transform="")},E=t=>{n({type:"setAutofill",payload:t})},S=t=>{n({type:"setSmartFilter",payload:t})},B=t=>{n({type:"setEnableContextMenu",payload:t})},D=t=>{n({type:"setTheme",payload:t})},T=t=>{n({type:"setAutolock",payload:t})},M=t=>{p({type:"setEnc",payload:{service:"dropbox",value:t}})},R=t=>{p({type:"setEnc",payload:{service:"drive",value:t}})},A=t=>{p({type:"setEnc",payload:{service:"onedrive",value:t}})},F=async()=>{try{await chrome.storage.sync.clear(),await chrome.storage.local.clear(),localStorage.clear(),chrome.runtime.sendMessage({action:"lock"}),x(!1),k(!0)}catch(t){console.error("Failed to delete everything:",t)}};return e.jsxs("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[e.jsx("h1",{children:"Auths 选项"}),e.jsxs("section",{style:{marginTop:"30px"},children:[e.jsx("h2",{children:"常规设置"}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsxs("label",{children:["缩放: ",o,"%",e.jsx("input",{type:"range",min:"50",max:"150",step:"10",value:o,onChange:t=>C(Number(t.target.value)),style:{marginLeft:"10px"}})]})}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsx(l,{id:"autofill",label:"启用自动填充",checked:s,onChange:E})}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsx(l,{id:"smartFilter",label:"智能过滤",checked:i,onChange:S})}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsx(l,{id:"contextMenu",label:"启用上下文菜单",checked:c,onChange:B})}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsxs("label",{children:["主题:",e.jsxs("select",{value:a,onChange:t=>D(t.target.value),style:{marginLeft:"10px"},children:[e.jsx("option",{value:"normal",children:"普通"}),e.jsx("option",{value:"dark",children:"深色"}),e.jsx("option",{value:"simple",children:"简单"}),e.jsx("option",{value:"compact",children:"紧凑"}),e.jsx("option",{value:"flat",children:"扁平"}),e.jsx("option",{value:"accessibility",children:"无障碍"})]})]})}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsxs("label",{children:["自动锁定 (秒):",e.jsx("input",{type:"number",min:"0",max:"300",value:r,onChange:t=>T(Number(t.target.value)),style:{marginLeft:"10px"}})]})})]}),e.jsxs("section",{style:{marginTop:"30px"},children:[e.jsx("h2",{children:"备份设置"}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsx(l,{id:"dropboxEncrypted",label:"Dropbox 加密",checked:d,onChange:M,disabled:!j})}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsx(l,{id:"driveEncrypted",label:"Google Drive 加密",checked:g,onChange:R,disabled:!v})}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsx(l,{id:"oneDriveEncrypted",label:"OneDrive 加密",checked:u,onChange:A,disabled:!b})})]}),e.jsxs("section",{style:{marginTop:"30px"},children:[e.jsx("h2",{children:"危险操作"}),e.jsx("p",{children:"删除所有数据将永久删除您的所有账户、设置和备份。此操作无法撤销。"}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsx(l,{id:"deleteConfirm",label:"我确认要删除所有数据",checked:h,onChange:x})}),e.jsx("div",{style:{marginTop:"15px"},children:e.jsx(I,{onClick:F,disabled:!h,className:"danger",children:"删除所有数据"})}),f&&e.jsx("p",{style:{color:"green",marginTop:"10px"},children:"所有数据已成功删除！"})]})]})}const y=document.getElementById("root");y&&L.createRoot(y).render(e.jsx(z.StrictMode,{children:e.jsx(G,{children:e.jsx(P,{})})}));
